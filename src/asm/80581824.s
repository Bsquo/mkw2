nofralloc
/* 80581824 9421FFF0 */ stwu        r1, -0x10(r1)
/* 80581828 7C0802A6 */ mflr        r0
/* 8058182C 90010014 */ stw         r0, 0x14(r1)
/* 80581830 93E1000C */ stw         r31, 0xc(r1)
/* 80581834 7C7F1B78 */ mr          r31, r3
/* 80581838 93C10008 */ stw         r30, 8(r1)
/* 8058183C 80830000 */ lwz         r4, 0(r3)
/* 80581840 80840004 */ lwz         r4, 4(r4)
/* 80581844 80040008 */ lwz         r0, 8(r4)
/* 80581848 540005EF */ rlwinm.     r0, r0, 0, 0x17, 0x17
/* 8058184C 41820044 */ beq-        lbl_80581890
/* 80581850 A88301A8 */ lha         r4, 0x1a8(r3)
/* 80581854 3BC00000 */ li          r30, 0
/* 80581858 3804FFFF */ addi        r0, r4, -1
/* 8058185C B00301A8 */ sth         r0, 0x1a8(r3)
/* 80581860 7C000735 */ extsh.      r0, r0
/* 80581864 4181001C */ bgt-        lbl_80581880
/* 80581868 80630000 */ lwz         r3, 0(r3)
/* 8058186C 3BC00001 */ li          r30, 1
/* 80581870 80630004 */ lwz         r3, 4(r3)
/* 80581874 80030008 */ lwz         r0, 8(r3)
/* 80581878 5400062C */ rlwinm      r0, r0, 0, 0x18, 0x16
/* 8058187C 90030008 */ stw         r0, 8(r3)
lbl_80581880:
/* 80581880 7FE3FB78 */ mr          r3, r31
/* 80581884 4800F809 */ bl          kartBlink__Q24Kart15KartObjectProxyFv
/* 80581888 7FC4F378 */ mr          r4, r30
/* 8058188C 4BFE8A75 */ bl          unk_8056a300
lbl_80581890:
/* 80581890 3C60809C */ lis         r3, spInstance__Q26System10RaceConfig@ha
/* 80581894 8063D728 */ lwz         r3, spInstance__Q26System10RaceConfig@l(r3)
/* 80581898 80030B78 */ lwz         r0, 0xb78(r3)
/* 8058189C 2C000000 */ cmpwi       r0, 0
/* 805818A0 408200B4 */ bne-        lbl_80581954
/* 805818A4 80BF0000 */ lwz         r5, 0(r31)
/* 805818A8 80650004 */ lwz         r3, 4(r5)
/* 805818AC 80830014 */ lwz         r4, 0x14(r3)
/* 805818B0 548003DF */ rlwinm.     r0, r4, 0, 0xf, 0xf
/* 805818B4 418200A0 */ beq-        lbl_80581954
/* 805818B8 54800739 */ rlwinm.     r0, r4, 0, 0x1c, 0x1c
/* 805818BC 40820098 */ bne-        lbl_80581954
/* 805818C0 80030004 */ lwz         r0, 4(r3)
/* 805818C4 540006F7 */ rlwinm.     r0, r0, 0, 0x1b, 0x1b
/* 805818C8 4082008C */ bne-        lbl_80581954
/* 805818CC 8003000C */ lwz         r0, 0xc(r3)
/* 805818D0 54000465 */ rlwinm.     r0, r0, 0, 0x11, 0x12
/* 805818D4 40820080 */ bne-        lbl_80581954
/* 805818D8 A89F01AC */ lha         r4, 0x1ac(r31)
/* 805818DC 3C60808B */ lis         r3, lbl_808b5a14@ha
/* 805818E0 38040001 */ addi        r0, r4, 1
/* 805818E4 B01F01AC */ sth         r0, 0x1ac(r31)
/* 805818E8 7C040734 */ extsh       r4, r0
/* 805818EC A8035A14 */ lha         r0, lbl_808b5a14@l(r3)
/* 805818F0 7C040000 */ cmpw        r4, r0
/* 805818F4 41800060 */ blt-        lbl_80581954
/* 805818F8 80650004 */ lwz         r3, 4(r5)
/* 805818FC 8003000C */ lwz         r0, 0xc(r3)
/* 80581900 5400031B */ rlwinm.     r0, r0, 0, 0xc, 0xd
/* 80581904 40820014 */ bne-        lbl_80581918
/* 80581908 80650004 */ lwz         r3, 4(r5)
/* 8058190C 8003000C */ lwz         r0, 0xc(r3)
/* 80581910 64000004 */ oris        r0, r0, 4
/* 80581914 9003000C */ stw         r0, 0xc(r3)
lbl_80581918:
/* 80581918 7FE3FB78 */ mr          r3, r31
/* 8058191C 38800006 */ li          r4, 6
/* 80581920 4800FED5 */ bl          unk_805917f4
/* 80581924 38000000 */ li          r0, 0
/* 80581928 B01F01AC */ sth         r0, 0x1ac(r31)
/* 8058192C 807F0000 */ lwz         r3, 0(r31)
/* 80581930 80630004 */ lwz         r3, 4(r3)
/* 80581934 80030014 */ lwz         r0, 0x14(r3)
/* 80581938 5400041C */ rlwinm      r0, r0, 0, 0x10, 0xe
/* 8058193C 90030014 */ stw         r0, 0x14(r3)
/* 80581940 807F0000 */ lwz         r3, 0(r31)
/* 80581944 80630004 */ lwz         r3, 4(r3)
/* 80581948 80030014 */ lwz         r0, 0x14(r3)
/* 8058194C 64000002 */ oris        r0, r0, 2
/* 80581950 90030014 */ stw         r0, 0x14(r3)
lbl_80581954:
/* 80581954 80010014 */ lwz         r0, 0x14(r1)
/* 80581958 83E1000C */ lwz         r31, 0xc(r1)
/* 8058195C 83C10008 */ lwz         r30, 8(r1)
/* 80581960 7C0803A6 */ mtlr        r0
/* 80581964 38210010 */ addi        r1, r1, 0x10
/* 80581968 4E800020 */ blr         