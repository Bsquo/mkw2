nofralloc
/* 80587590 9421FFF0 */ stwu        r1, -0x10(r1)
/* 80587594 7C0802A6 */ mflr        r0
/* 80587598 3C80809C */ lis         r4, spInstance__Q26System11RaceManager@ha
/* 8058759C 90010014 */ stw         r0, 0x14(r1)
/* 805875A0 93E1000C */ stw         r31, 0xc(r1)
/* 805875A4 93C10008 */ stw         r30, 8(r1)
/* 805875A8 7C7E1B78 */ mr          r30, r3
/* 805875AC 8064D730 */ lwz         r3, spInstance__Q26System11RaceManager@l(r4)
/* 805875B0 38800002 */ li          r4, 2
/* 805875B4 4BFAEC7D */ bl          Raceinfo_isAtLeastStage
/* 805875B8 2C030000 */ cmpwi       r3, 0
/* 805875BC 41820364 */ beq-        lbl_80587920
/* 805875C0 801E0250 */ lwz         r0, 0x250(r30)
/* 805875C4 540007FF */ clrlwi.     r0, r0, 0x1f
/* 805875C8 418201DC */ beq-        lbl_805877a4
/* 805875CC 809E0000 */ lwz         r4, 0(r30)
/* 805875D0 3C60080C */ lis         r3, 0x80c
/* 805875D4 38030100 */ addi        r0, r3, 0x100
/* 805875D8 38A00001 */ li          r5, 1
/* 805875DC 80E40004 */ lwz         r7, 4(r4)
/* 805875E0 38800001 */ li          r4, 1
/* 805875E4 38C00001 */ li          r6, 1
/* 805875E8 8067000C */ lwz         r3, 0xc(r7)
/* 805875EC 7C600039 */ and.        r0, r3, r0
/* 805875F0 40820014 */ bne-        lbl_80587604
/* 805875F4 80070004 */ lwz         r0, 4(r7)
/* 805875F8 540006F7 */ rlwinm.     r0, r0, 0, 0x1b, 0x1b
/* 805875FC 40820008 */ bne-        lbl_80587604
/* 80587600 38C00000 */ li          r6, 0
lbl_80587604:
/* 80587604 2C060000 */ cmpwi       r6, 0
/* 80587608 40820014 */ bne-        lbl_8058761c
/* 8058760C 80070014 */ lwz         r0, 0x14(r7)
/* 80587610 54000631 */ rlwinm.     r0, r0, 0, 0x18, 0x18
/* 80587614 40820008 */ bne-        lbl_8058761c
/* 80587618 38800000 */ li          r4, 0
lbl_8058761c:
/* 8058761C 2C040000 */ cmpwi       r4, 0
/* 80587620 40820014 */ bne-        lbl_80587634
/* 80587624 80070008 */ lwz         r0, 8(r7)
/* 80587628 540007FF */ clrlwi.     r0, r0, 0x1f
/* 8058762C 40820008 */ bne-        lbl_80587634
/* 80587630 38A00000 */ li          r5, 0
lbl_80587634:
/* 80587634 2C050000 */ cmpwi       r5, 0
/* 80587638 4082016C */ bne-        lbl_805877a4
/* 8058763C 3C80808B */ lis         r4, lbl_808b5b2a@ha
/* 80587640 7FC3F378 */ mr          r3, r30
/* 80587644 ABE45B2A */ lha         r31, lbl_808b5b2a@l(r4)
/* 80587648 48009415 */ bl          getPlayerIdx__Q24Kart15KartObjectProxyCFv
/* 8058764C 3C80809C */ lis         r4, lbl_809c21d0@ha
/* 80587650 546015BA */ rlwinm      r0, r3, 2, 0x16, 0x1d
/* 80587654 806421D0 */ lwz         r3, lbl_809c21d0@l(r4)
/* 80587658 80630068 */ lwz         r3, 0x68(r3)
/* 8058765C 7C63002E */ lwzx        r3, r3, r0
/* 80587660 4811C2E9 */ bl          unk_806a3948
/* 80587664 7FC3F378 */ mr          r3, r30
/* 80587668 4800912D */ bl          kartSnd__Q24Kart15KartObjectProxyFv
/* 8058766C 48181541 */ bl          unk_80708bac
/* 80587670 A01E0118 */ lhz         r0, 0x118(r30)
/* 80587674 38800000 */ li          r4, 0
/* 80587678 5400077B */ rlwinm.     r0, r0, 0, 0x1d, 0x1d
/* 8058767C 41820010 */ beq-        lbl_8058768c
/* 80587680 A81E0110 */ lha         r0, 0x110(r30)
/* 80587684 7C1F0000 */ cmpw        r31, r0
/* 80587688 40810028 */ ble-        lbl_805876b0
lbl_8058768c:
/* 8058768C A01E0118 */ lhz         r0, 0x118(r30)
/* 80587690 3C60808B */ lis         r3, lbl_808b5c90@ha
/* 80587694 B3FE0110 */ sth         r31, 0x110(r30)
/* 80587698 38635C90 */ addi        r3, r3, lbl_808b5c90@l
/* 8058769C 60000004 */ ori         r0, r0, 4
/* 805876A0 38800001 */ li          r4, 1
/* 805876A4 B01E0118 */ sth         r0, 0x118(r30)
/* 805876A8 C0030008 */ lfs         f0, 8(r3)
/* 805876AC D01E0124 */ stfs        f0, 0x124(r30)
lbl_805876b0:
/* 805876B0 2C040000 */ cmpwi       r4, 0
/* 805876B4 41820074 */ beq-        lbl_80587728
/* 805876B8 809E0000 */ lwz         r4, 0(r30)
/* 805876BC 7FC3F378 */ mr          r3, r30
/* 805876C0 80840004 */ lwz         r4, 4(r4)
/* 805876C4 80040004 */ lwz         r0, 4(r4)
/* 805876C8 64000010 */ oris        r0, r0, 0x10
/* 805876CC 90040004 */ stw         r0, 4(r4)
/* 805876D0 C03E0124 */ lfs         f1, 0x124(r30)
/* 805876D4 4800976D */ bl          unk_80590e40
/* 805876D8 7FC3F378 */ mr          r3, r30
/* 805876DC 38800006 */ li          r4, 6
/* 805876E0 480090D1 */ bl          unk_805907b0
/* 805876E4 7FC3F378 */ mr          r3, r30
/* 805876E8 48009375 */ bl          getPlayerIdx__Q24Kart15KartObjectProxyCFv
/* 805876EC 3C80809C */ lis         r4, lbl_809c21d0@ha
/* 805876F0 546015BA */ rlwinm      r0, r3, 2, 0x16, 0x1d
/* 805876F4 806421D0 */ lwz         r3, lbl_809c21d0@l(r4)
/* 805876F8 57E4043E */ clrlwi      r4, r31, 0x10
/* 805876FC 80630068 */ lwz         r3, 0x68(r3)
/* 80587700 7C63002E */ lwzx        r3, r3, r0
/* 80587704 4811C3C1 */ bl          unk_806a3ac4
/* 80587708 7FC3F378 */ mr          r3, r30
/* 8058770C 48009335 */ bl          kartModel__Q24Kart15KartObjectProxyFv
/* 80587710 4824C649 */ bl          unk_807d3d58
/* 80587714 7FC3F378 */ mr          r3, r30
/* 80587718 38800004 */ li          r4, 4
/* 8058771C 38A00000 */ li          r5, 0
/* 80587720 38C00001 */ li          r6, 1
/* 80587724 48009921 */ bl          unk_80591044
lbl_80587728:
/* 80587728 3C60808B */ lis         r3, lbl_808b5b2a@ha
/* 8058772C A81E0148 */ lha         r0, 0x148(r30)
/* 80587730 A8635B2A */ lha         r3, lbl_808b5b2a@l(r3)
/* 80587734 7C030000 */ cmpw        r3, r0
/* 80587738 40810008 */ ble-        lbl_80587740
/* 8058773C B07E0148 */ sth         r3, 0x148(r30)
lbl_80587740:
/* 80587740 807E0000 */ lwz         r3, 0(r30)
/* 80587744 80630004 */ lwz         r3, 4(r3)
/* 80587748 80030008 */ lwz         r0, 8(r3)
/* 8058774C 60000080 */ ori         r0, r0, 0x80
/* 80587750 90030008 */ stw         r0, 8(r3)
/* 80587754 809E0000 */ lwz         r4, 0(r30)
/* 80587758 80640004 */ lwz         r3, 4(r4)
/* 8058775C 8003000C */ lwz         r0, 0xc(r3)
/* 80587760 540000C7 */ rlwinm.     r0, r0, 0, 3, 3
/* 80587764 41820040 */ beq-        lbl_805877a4
/* 80587768 80A40004 */ lwz         r5, 4(r4)
/* 8058776C 38000000 */ li          r0, 0
/* 80587770 7FC3F378 */ mr          r3, r30
/* 80587774 8085000C */ lwz         r4, 0xc(r5)
/* 80587778 54840104 */ rlwinm      r4, r4, 0, 4, 2
/* 8058777C 9085000C */ stw         r4, 0xc(r5)
/* 80587780 B01E018E */ sth         r0, 0x18e(r30)
/* 80587784 480092D9 */ bl          getPlayerIdx__Q24Kart15KartObjectProxyCFv
/* 80587788 3C80809C */ lis         r4, lbl_809c21d0@ha
/* 8058778C 546015BA */ rlwinm      r0, r3, 2, 0x16, 0x1d
/* 80587790 806421D0 */ lwz         r3, lbl_809c21d0@l(r4)
/* 80587794 38800001 */ li          r4, 1
/* 80587798 80630068 */ lwz         r3, 0x68(r3)
/* 8058779C 7C63002E */ lwzx        r3, r3, r0
/* 805877A0 9883010D */ stb         r4, 0x10d(r3)
lbl_805877a4:
/* 805877A4 801E0250 */ lwz         r0, 0x250(r30)
/* 805877A8 540007BD */ rlwinm.     r0, r0, 0, 0x1e, 0x1e
/* 805877AC 4182014C */ beq-        lbl_805878f8
/* 805877B0 80FE0000 */ lwz         r7, 0(r30)
/* 805877B4 3C60080C */ lis         r3, 0x80c
/* 805877B8 38030100 */ addi        r0, r3, 0x100
/* 805877BC 38800001 */ li          r4, 1
/* 805877C0 81070004 */ lwz         r8, 4(r7)
/* 805877C4 38A00001 */ li          r5, 1
/* 805877C8 38C00001 */ li          r6, 1
/* 805877CC 8068000C */ lwz         r3, 0xc(r8)
/* 805877D0 7C600039 */ and.        r0, r3, r0
/* 805877D4 40820014 */ bne-        lbl_805877e8
/* 805877D8 80080004 */ lwz         r0, 4(r8)
/* 805877DC 540006F7 */ rlwinm.     r0, r0, 0, 0x1b, 0x1b
/* 805877E0 40820008 */ bne-        lbl_805877e8
/* 805877E4 38C00000 */ li          r6, 0
lbl_805877e8:
/* 805877E8 2C060000 */ cmpwi       r6, 0
/* 805877EC 40820014 */ bne-        lbl_80587800
/* 805877F0 80080014 */ lwz         r0, 0x14(r8)
/* 805877F4 54000631 */ rlwinm.     r0, r0, 0, 0x18, 0x18
/* 805877F8 40820008 */ bne-        lbl_80587800
/* 805877FC 38A00000 */ li          r5, 0
lbl_80587800:
/* 80587800 2C050000 */ cmpwi       r5, 0
/* 80587804 40820014 */ bne-        lbl_80587818
/* 80587808 80080008 */ lwz         r0, 8(r8)
/* 8058780C 540007FF */ clrlwi.     r0, r0, 0x1f
/* 80587810 40820008 */ bne-        lbl_80587818
/* 80587814 38800000 */ li          r4, 0
lbl_80587818:
/* 80587818 2C040000 */ cmpwi       r4, 0
/* 8058781C 408200DC */ bne-        lbl_805878f8
/* 80587820 80870004 */ lwz         r4, 4(r7)
/* 80587824 3C60808B */ lis         r3, lbl_808b5b2a@ha
/* 80587828 80040004 */ lwz         r0, 4(r4)
/* 8058782C 64008000 */ oris        r0, r0, 0x8000
/* 80587830 90040004 */ stw         r0, 4(r4)
/* 80587834 A8635B2A */ lha         r3, lbl_808b5b2a@l(r3)
/* 80587838 A81E0148 */ lha         r0, 0x148(r30)
/* 8058783C B07E01C4 */ sth         r3, 0x1c4(r30)
/* 80587840 7C030000 */ cmpw        r3, r0
/* 80587844 40810008 */ ble-        lbl_8058784c
/* 80587848 B07E0148 */ sth         r3, 0x148(r30)
lbl_8058784c:
/* 8058784C 809E0000 */ lwz         r4, 0(r30)
/* 80587850 7FC3F378 */ mr          r3, r30
/* 80587854 80840004 */ lwz         r4, 4(r4)
/* 80587858 80040008 */ lwz         r0, 8(r4)
/* 8058785C 60000080 */ ori         r0, r0, 0x80
/* 80587860 90040008 */ stw         r0, 8(r4)
/* 80587864 48008F31 */ bl          kartSnd__Q24Kart15KartObjectProxyFv
/* 80587868 481814E1 */ bl          unk_80708d48
/* 8058786C 7FC3F378 */ mr          r3, r30
/* 80587870 480091ED */ bl          getPlayerIdx__Q24Kart15KartObjectProxyCFv
/* 80587874 3FE0809C */ lis         r31, lbl_809c21d0@ha
/* 80587878 3C80808B */ lis         r4, lbl_808b5b2a@ha
/* 8058787C 80BF21D0 */ lwz         r5, lbl_809c21d0@l(r31)
/* 80587880 546015BA */ rlwinm      r0, r3, 2, 0x16, 0x1d
/* 80587884 A0845B2A */ lhz         r4, lbl_808b5b2a@l(r4)
/* 80587888 80650068 */ lwz         r3, 0x68(r5)
/* 8058788C 7C63002E */ lwzx        r3, r3, r0
/* 80587890 4811C235 */ bl          unk_806a3ac4
/* 80587894 3C808089 */ lis         r4, lbl_80891a04@ha
/* 80587898 7FC3F378 */ mr          r3, r30
/* 8058789C C0241A04 */ lfs         f1, lbl_80891a04@l(r4)
/* 805878A0 38800004 */ li          r4, 4
/* 805878A4 38A00001 */ li          r5, 1
/* 805878A8 48008B75 */ bl          unk_8059041c
/* 805878AC 809E0000 */ lwz         r4, 0(r30)
/* 805878B0 80640004 */ lwz         r3, 4(r4)
/* 805878B4 8003000C */ lwz         r0, 0xc(r3)
/* 805878B8 540000C7 */ rlwinm.     r0, r0, 0, 3, 3
/* 805878BC 4182003C */ beq-        lbl_805878f8
/* 805878C0 80A40004 */ lwz         r5, 4(r4)
/* 805878C4 38000000 */ li          r0, 0
/* 805878C8 7FC3F378 */ mr          r3, r30
/* 805878CC 8085000C */ lwz         r4, 0xc(r5)
/* 805878D0 54840104 */ rlwinm      r4, r4, 0, 4, 2
/* 805878D4 9085000C */ stw         r4, 0xc(r5)
/* 805878D8 B01E018E */ sth         r0, 0x18e(r30)
/* 805878DC 48009181 */ bl          getPlayerIdx__Q24Kart15KartObjectProxyCFv
/* 805878E0 809F21D0 */ lwz         r4, lbl_809c21d0@l(r31)
/* 805878E4 546015BA */ rlwinm      r0, r3, 2, 0x16, 0x1d
/* 805878E8 38A00001 */ li          r5, 1
/* 805878EC 80640068 */ lwz         r3, 0x68(r4)
/* 805878F0 7C63002E */ lwzx        r3, r3, r0
/* 805878F4 98A3010D */ stb         r5, 0x10d(r3)
lbl_805878f8:
/* 805878F8 801E0250 */ lwz         r0, 0x250(r30)
/* 805878FC 5400077B */ rlwinm.     r0, r0, 0, 0x1d, 0x1d
/* 80587900 41820018 */ beq-        lbl_80587918
/* 80587904 809E0000 */ lwz         r4, 0(r30)
/* 80587908 7FC3F378 */ mr          r3, r30
/* 8058790C 80840004 */ lwz         r4, 4(r4)
/* 80587910 80840078 */ lwz         r4, 0x78(r4)
/* 80587914 4BFF8405 */ bl          PlayerSub10_tryStartJumpPad
lbl_80587918:
/* 80587918 38000000 */ li          r0, 0
/* 8058791C 901E0250 */ stw         r0, 0x250(r30)
lbl_80587920:
/* 80587920 80010014 */ lwz         r0, 0x14(r1)
/* 80587924 83E1000C */ lwz         r31, 0xc(r1)
/* 80587928 83C10008 */ lwz         r30, 8(r1)
/* 8058792C 7C0803A6 */ mtlr        r0
/* 80587930 38210010 */ addi        r1, r1, 0x10
/* 80587934 4E800020 */ blr         